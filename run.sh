#!/bin/bash

docker stop nginx wordpress mariadb && docker rmi my-mariadb-image my-wordpress-image my-nginx-image --force && docker container prune && docker build -t my-mariadb-image requirements/mariadb && docker build -t my-wordpress-image requirements/wordpress && docker build -t my-nginx-image requirements/nginx && docker run -itd --name mariadb --network inception_net -v mariadb_data:/var/lib/mysql --env-file requirements/.env my-mariadb-image && sleep 10 && docker run -itd --name wordpress --network inception_net -v wp_data:/var/www/html --env-file requirements/.env my-wordpress-image && docker run -itd --name nginx --network inception_net -p 3443:443 -v wp_data:/var/www/html my-nginx-image
